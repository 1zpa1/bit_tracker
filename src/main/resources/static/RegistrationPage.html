<!DOCTYPE html>
<html lang="en">
<head>
    <title>Registration</title>
</head>
<body>
<h1>Registration</h1>
<form id="registrationForm" onsubmit="event.preventDefault(); sendFormData();">
    <!-- Форма регистрации -->
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required><br>

    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required><br>

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required><br>

    <label for="tg">Telegram:</label>
    <input type="text" id="tg" name="tg"><br>

    <label for="videoCard">Video card:</label>
    <input type="text" id="videoCard" name="videoCard"><br>

    <label for="numbersOfVideoCard">Number of video card:</label>
    <input type="number" id="numbersOfVideoCard" name="numbersOfVideoCard"><br>

    <label for="hashRate">Hash rate:</label>
    <input type="number" step="0.01" id="hashRate" name="hashRate"><br>

    <label for="electricityCost">Electricity cost:</label>
    <input type="number" step="0.01" id="electricityCost" name="electricityCost"><br>

    <button type="submit">Create user</button>
</form>

<script>
    function sendFormData() {
        const form = document.getElementById("registrationForm");
        const formData = new FormData(form);
        const jsonData = {};

        formData.forEach((value, key) => {
            jsonData[key] = value;
        });

        fetch('/greeting/createUser', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(jsonData)
        })
            .then(response => response.json())
            .then(data => {
                // Обработка успешного ответа, если необходимо
                console.log(data);
                // Перенаправление на новую страницу
                window.location.href = "/greeting/homepage";
            })
            .catch(error => {
                // Обработка ошибки, если необходимо
                console.error(error);
            });
    }
</script>

</body>
</html>
